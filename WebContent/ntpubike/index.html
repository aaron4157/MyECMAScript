<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>NTP YouBike home page</title>
	<script type="text/javascript" src="/MyECMAScript/js/myutility.js"></script>

</head>
<body>
	<!-- 使用原生 Javascript  -->
	<h1 id="maintitle"></h1>
	<h3 id="info"></h3>
	<p id="server">伺服器網址: </p>
	<p id="paths">服務數目: </p>
	<button onclick="goTo()">查詢即時資訊</button>
	
	
	<script type="text/javascript">
		var URL = "https://data.ntpc.gov.tw/openapi/units/1130000";  //static json source
		jsonrequest(URL, homepaging);
					
		function homepaging(xhttp){
			alert("Welcome!");
			var jsons = xhttp.response;			    
		    document.getElementById("maintitle").innerHTML = jsons["info"]["description"];
		    document.getElementById("info").innerHTML = ("version: "+ jsons["openapi"]);
		    document.getElementById("server").innerHTML += jsons["servers"][0]["url"];
		    document.getElementById("paths").innerHTML += "...";
		}
		
		function goTo(){
			//網址呼叫 controller
			window.location.href="/MyECMAScript/ntpubike/json";
		}
	</script>
	
</body>
</html>